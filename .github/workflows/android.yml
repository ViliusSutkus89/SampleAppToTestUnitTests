name: android
on: push
jobs:
  build:
    runs-on: macos-10.15
    steps:
    - uses: actions/checkout@v2

    - uses: actions/setup-java@v1
      with:
        java-version: 1.8

    - uses: ViliusSutkus89/setup-android@release
 
    - run: ./gradlew build

    - name: run tests
      uses: reactivecircus/android-emulator-runner@v2
      with:
        api-level: 29
        script: ./gradlew connectedCheck
